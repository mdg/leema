
import json
import map


struct User
.id: Int
.name: Str
--

func test_decode() >>
    let s := json::decode[Str]("\"coded  '\"")
    let i := json::decode[Int]("9")
    let b := json::decode[Bool]("true")
    println("$s $i or $b")
--

func test_encode() >>
    println(json::encode(6))
    println(json::encode(false))
    print(json::encode("hello") \n)
    print(json::encode(#world) \n)
    print(json::encode(["a", "b"]) \n)
    let m := map::set({}, "x", 4)
    print(json::encode(m) \n)
    let u := User(4, "Javier")
    println(json::encode(u))
--

func main() >>
    test_encode()
    test_decode()
--
